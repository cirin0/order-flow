<!DOCTYPE html>
<html lang="ua" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}"></head>
<body>
<div th:replace="~{fragments/header :: header}"></div>

<div class="page-wrapper">
  <div class="background-wrapper">
    <div class="cityscape"></div>
    <div class="cityscape-revers"></div>
  </div>

  <main class="container mt-5 content">
    <div class="profile-container">
      <div class="profile-header">
        <h2 class="profile-title">
          <i class="fas fa-user-circle"></i> Вітаємо, <span
          th:text="${userDetails.firstName + ' ' + userDetails.lastName}"></span>
        </h2>
        <a th:href="@{/user/edit-profile}" class="btn btn-outline-light edit-button">
          <i class="fas fa-edit"></i> Редагувати
        </a>
      </div>
      <div class="profile-body">
        <div th:if="${successMessage}" class="alert alert-success success-message" role="alert"
             th:text="${successMessage}"></div>
        <div th:if="${errorMessage}" class="alert alert-danger error-message" role="alert"
             th:text="${errorMessage}"></div>

        <div class="profile-info-row">
          <div class="profile-info-item">
            <label><i class="fas fa-user"></i> Ім'я:</label>
            <p th:text="${userDetails.firstName}"></p>
          </div>
          <div class="profile-info-item">
            <label><i class="fas fa-user-tag"></i> Прізвище:</label>
            <p th:text="${userDetails.lastName}"></p>
          </div>
        </div>

        <div class="profile-info-item" style="padding-bottom: 1.5rem">
          <label><i class="fas fa-envelope"></i> Email:</label>
          <p th:text="${userDetails.email}"></p>
        </div>
        <div class="profile-info-item">
          <label><i class="fas fa-phone"></i> Номер:</label>
          <p th:if="${userDetails.phone != null and !userDetails.phone.isEmpty()}" th:text="${userDetails.phone}"></p>
          <p th:unless="${userDetails.phone != null and !userDetails.phone.isEmpty()}" class="text-muted">
            <i class="fas fa-exclamation-circle"></i> Номер телефону не вказано
          </p>
        </div>
        <div class="profile-info-section">
          <h3><i class="fas fa-map-marker-alt"></i> Адреса доставки</h3>
          <div th:if="${userDetails.address != null}" class="address-fields">
            <div class="profile-info-item">
              <label><i class="fas fa-map"></i> Область:</label>
              <p th:text="${userDetails.address.region}"></p>
            </div>
            <div class="profile-info-item">
              <label><i class="fas fa-city"></i> Місто:</label>
              <p th:text="${userDetails.address.city}"></p>
            </div>
            <div class="profile-info-item">
              <label><i class="fas fa-map-pin"></i> <span style="padding-left: 9px">Район:</span></label>
              <p th:text="${userDetails.address.area}"></p>
            </div>
            <div class="profile-info-item">
              <label><i class="fas fa-road"></i> Вулиця:</label>
              <p th:text="${userDetails.address.street}"></p>
            </div>
            <div class="profile-info-item">
              <label><i class="fas fa-home"></i> Будинок:</label>
              <p th:text="${userDetails.address.house}"></p>
            </div>
            <div class="profile-info-item">
              <label><i class="fas fa-building"></i> <span style="padding-left: 3px">Квартира:</span></label>
              <p th:text="${userDetails.address.apartment}"></p>
            </div>
          </div>
          <div th:unless="${userDetails.address != null}" class="text-muted">
            <p><i class="fas fa-exclamation-circle"></i> Адреса доставки не вказана</p>
          </div>
        </div>
      </div>
      <div class="profile-logout-button">
        <a th:href="@{/user/logout}" class="btn btn-danger">
          <i class="fas fa-sign-out-alt"></i> Вийти з системи
        </a>
      </div>
    </div>
  </main>
</div>
<footer th:replace="~{fragments/footer :: footer}" class="mt-auto"></footer>
</body>
</html>
